(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(15),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([e.id,"#header-div {\n    background-color: black;\n    color: red;\n}\n\n#setup-area {\n    width: 100%;\n    height: 150px;\n    border: dashed;\n}\n\n#content {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-evenly;\n    border: solid;\n}\n\n.rows {\n    display: flex;\n    flex-direction: row;\n}\n\n.squares {\n    outline: solid;\n    outline-width: 1px;\n    width: 20px;\n    height: 20px;\n    margin: 2px;\n    background-color: gainsboro;\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,uBAAuB;IACvB,UAAU;AACd;;AAEA;IACI,WAAW;IACX,aAAa;IACb,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,mBAAmB;IACnB,6BAA6B;IAC7B,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,WAAW;IACX,2BAA2B;AAC/B",sourcesContent:["#header-div {\n    background-color: black;\n    color: red;\n}\n\n#setup-area {\n    width: 100%;\n    height: 150px;\n    border: dashed;\n}\n\n#content {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-evenly;\n    border: solid;\n}\n\n.rows {\n    display: flex;\n    flex-direction: row;\n}\n\n.squares {\n    outline: solid;\n    outline-width: 1px;\n    width: 20px;\n    height: 20px;\n    margin: 2px;\n    background-color: gainsboro;\n}"],sourceRoot:""}]);const a=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var d=[].concat(e[a]);o&&r[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e.exports=function(e){var n,o,r=(o=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}}(n,o)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[1],s=r[3];if(!s)return i;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),c="/*# ".concat(d," */"),u=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[i].concat(u).concat([c]).join("\n")}return[i].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},s=[],a=0;a<e.length;a++){var d=e[a],c=o.base?d[0]+o.base:d[0],u=i[c]||0,l="".concat(c," ").concat(u);i[c]=u+1;var p=n(l),h={css:d[1],media:d[2],sourceMap:d[3]};-1!==p?(t[p].references++,t[p].updater(h)):t.push({identifier:l,updater:r(h,o),references:1}),s.push(l)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var d=o(e,r),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=d}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(379),t=n.n(e),o=n(795),r=n.n(o),i=n(569),s=n.n(i),a=n(565),d=n.n(a),c=n(216),u=n.n(c),l=n(589),p=n.n(l),h=n(426),f={};f.styleTagTransform=p(),f.setAttributes=d(),f.insert=s().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=u(),t()(h.Z,f),h.Z&&h.Z.locals&&h.Z.locals;const m=(e,t,n,o)=>{let r={shipFound:!1,shipFoundR:0,shipFoundC:0,move:0,lastHit:!1,goRight:!0,goLeft:!0,goUp:!0,goDown:!0,coords:{r:0,c:0}};function i(){return Math.floor(10*Math.random()+0)}function s(){console.log("in random");let e=i(),t=i();for(;n.squares[e][t].hit;)e=i(),t=i();return n.squares[e][t].shipHere&&(r.shipFound=!0,r.shipFoundR=e,r.shipFoundC=t),r.coords.r=e,r.coords.c=t,r.coords}return{title:e,myBoard:t,human:o,opponentBoard:n,cpuRandomAttack:s,cpuFoundAttack:function(){if(n.squares[r.shipFoundR][r.shipFoundC].ship.sunk)r.shipFound=!1,r.shipFoundR=0,r.shipFoundC=0,r.move=0,r.lastHit=!1,r.goRight=!0,r.goLeft=!0,r.goUp=!0,r.goDown=!0,s();else{if(r.lastHit||(r.move=0),r.goRight&&r.shipFoundC+r.move>9?r.goRight=!1:r.goLeft&&r.shipFoundC+r.move<0?r.goLeft=!1:r.goUp&&r.shipFoundC+r.move<0?r.goUp=!1:r.goDown&&r.shipFoundC+r.move>9&&(r.goDown=!1),r.goRight)return r.move++,n.squares[r.shipFoundR][r.shipFoundC+r.move].ship?(r.goUp=!1,r.goDown=!1,r.lastHit=!0):(r.goRight=!1,r.lastHit=!1),r.coords.r=r.shipFoundR,r.coords.c=r.shipFoundC+r.move,r.coords;if(r.goLeft)return r.move--,n.squares[r.shipFoundR][r.shipFoundC+r.move].ship?(r.goUp=!1,r.goDown=!1,r.lastHit=!0):(r.goLeft=!1,r.lastHit=!1),r.coords.r=r.shipFoundR,r.coords.c=r.shipFoundC+r.move,r.coords;if(r.goUp)return r.move--,n.squares[r.shipFoundR+r.move][r.shipFoundC].ship?(r.goLeft=!1,r.goRight=!1,r.lastHit=!0):(r.goUp=!1,r.lastHit=!1),r.coords.r=r.shipFoundR+r.move,r.coords.c=r.shipFoundC,coords;if(r.goDown)return r.move++,n.squares[r.shipFoundR+r.move][r.shipFoundC].ship?(r.goLeft=!1,r.lastHit=!0):(r.goDown=!1,r.lastHit=!1),r.coords.r=shipFoundR+move,r.coords.c=shipFoundC,r.coords}},cpuInfo:r}},g=(e,t)=>{let n=[],o=[];for(let e=0;e<t;e++){n[e]=[];for(let o=0;o<t;o++)n[e][o]={row:e,col:o,hit:!1,ship:null,shipHere:!1,shipPart:null}}return{title:e,squares:n,placeShip:function(e,t,r,i){o.push(e);for(let o=0;o<e.length;o++)i?(n[t][r+o].ship=e,n[t][r+o].shipHere=!0,n[t][r+o].shipPart=o,e.position[o].boardR=t,e.position[o].boardC=r+o):(n[t+o][r].ship=e,n[t+o][r].shipHere=!0,n[t+o][r].shipPart=o,e.position[o].boardR=t+o,e.position[o].boardC=r)},receiveAttack:function(e,t){return n[e][t].hit=!0,n[e][t].shipHere?(n[e][t].ship.hit(n[e][t].shipPart),"Hit"):"Miss"},allShipsSunk:function(){for(let e=0;e<o.length;e++)if(!o[e].isSunk())return!1;return!0}}},A=document.body;function v(e,t){let n;if(t+4<11){n=!0;for(let o=0;o<4;o++)x.myBoard.squares[e][t+o].ship&&(n=!1);if(n)for(let n=0;n<4;n++)document.getElementById("board1-"+e+(t+n)).style.backgroundColor="cyan";else x.myBoard.squares[e][t].ship||(document.getElementById("board1-"+e+t).style.backgroundColor="pink")}else x.myBoard.squares[e][t].ship||(document.getElementById("board1-"+e+t).style.backgroundColor="pink")}function b(e,t){let n=!0;if(t+4<11){for(let o=0;o<4;o++)x.myBoard.squares[e][t+o].ship&&(n=!1);if(n)for(let n=0;n<4;n++)document.getElementById("board1-"+e+(t+n)).style.backgroundColor="gainsboro";else x.myBoard.squares[e][t].ship||(document.getElementById("board1-"+e+t).style.backgroundColor="gainsboro")}else x.myBoard.squares[e][t].ship||(document.getElementById("board1-"+e+t).style.backgroundColor="gainsboro")}function y(e,t){let n=!0;if(t+4<11){for(let o=0;o<4;o++)x.myBoard.squares[e][t+o].ship&&(n=!1);if(n){x.myBoard.placeShip(((e,t)=>{let n=0,o=[],r=!1;for(let e=0;e<4;e++)o[e]={hit:!1,boardR:null,boardC:null,pos:e};return{title:"boat1-1",length:4,hit:function(e){o[e].hit=!0,n++},hits:n,position:o,isSunk:function(){for(let e=0;e<4;e++)if(0==o[e].hit)return!1;return r=!0,!0},sunk:r}})(),e,t,!0);for(let n=0;n<4;n++)document.getElementById("board1-"+e+(t+n)).style.backgroundColor="blue"}}}function C(e,t){F(B?x:k,e,t)}let B=!0,I=g("board1",10),E=g("board2",10),x=m("Me",I,E,!0),k=m("cpu",E,I,!1),w=!1;function F(e,t,n){if(e.opponentBoard.squares[t][n].hit||1!=w||("Hit"===e.opponentBoard.receiveAttack(t,n)?(console.log(t,n,"hit"),function(e,t){let n;n=B?document.getElementById("board2-"+e+t):document.getElementById("board1-"+e+t),n.textContent="x"}(t,n),e.opponentBoard.squares[t][n].ship.isSunk()&&(e.opponentBoard.squares[t][n].ship.sunk=!0,function(e){for(let t=0;t<e.length;t++){let n,o=e.position[t].boardR,r=e.position[t].boardC;n=B?document.getElementById("board2-"+o+r):document.getElementById("board1-"+o+r),n.style.backgroundColor="red"}}(e.opponentBoard.squares[t][n].ship),e.opponentBoard.allShipsSunk()&&(w=!1,document.querySelector("#display").textContent=B?"Player 1 has won!":"Player 2 has won!"))):(console.log(t,n,"miss"),function(e,t){let n;n=B?document.getElementById("board2-"+e+t):document.getElementById("board1-"+e+t),n.textContent="o"}(t,n),B=!B)),!B){let e;e=k.cpuInfo.shipFound?k.cpuFoundAttack():k.cpuRandomAttack(),e||(e=k.cpuRandomAttack()),setTimeout((()=>{F(k,e.r,e.c)}),800)}}!function(){const e=document.createElement("div");e.id="header-div",e.textContent="Battleship",A.appendChild(e)}(),function(){const e=document.createElement("div");e.id="setup-area",A.appendChild(e)}(),function(){const e=document.createElement("div");e.id="content",A.appendChild(e);const t=document.createElement("div");t.id="display",A.appendChild(t),function(){const e=document.querySelector("#content");for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("div");t.id="board1",e.appendChild(t);for(let e=0;e<10;e++){let n=document.createElement("div");n.setAttribute("class","rows");for(let t=0;t<10;t++){let o=document.createElement("div");o.setAttribute("class","squares"),o.id="board1-"+e+t,o.addEventListener("mouseenter",(()=>{w||v(e,t)})),o.addEventListener("mouseleave",(()=>{w||b(e,t)})),o.addEventListener("click",(n=>{console.log(n),!B&&w&&C(e,t),w||y(e,t)})),n.appendChild(o)}t.appendChild(n)}const n=document.createElement("div");t.id="board2",e.appendChild(n);for(let e=0;e<10;e++){let t=document.createElement("div");t.setAttribute("class","rows");for(let n=0;n<10;n++){let o=document.createElement("div");o.setAttribute("class","squares"),o.id="board2-"+e+n,o.addEventListener("click",(()=>{B&&w&&C(e,n)})),t.appendChild(o)}n.appendChild(t)}}()}(),function(){const e=document.getElementById("setup-area"),t=document.createElement("div");t.textContent="start game",t.addEventListener("click",(()=>{w=!0,console.log(w)})),e.appendChild(t);const n=document.createElement("div");n.id="ship-div",e.appendChild(n)}(),document.getElementById("ship-div").textContent="Place ship of length 4."})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxZQUFZa0gsR0FFakIsTUFBTUMsRUFBVTVILFNBQVNVLGNBQWMsT0FDdkNrSCxFQUFROU4sR0FBSyxXQUNiNE4sRUFBS2pILFlBQVltSCxHQTdHakJDLEdBaUhZN0gsU0FBUzZGLGVBQWUsWUFDaENlLFlBQWMsMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9ET01EaXNwbGF5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lbG9vcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIiNoZWFkZXItZGl2IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxuICAgIGNvbG9yOiByZWQ7XFxufVxcblxcbiNzZXR1cC1hcmVhIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTUwcHg7XFxuICAgIGJvcmRlcjogZGFzaGVkO1xcbn1cXG5cXG4jY29udGVudCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xcbiAgICBib3JkZXI6IHNvbGlkO1xcbn1cXG5cXG4ucm93cyB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxufVxcblxcbi5zcXVhcmVzIHtcXG4gICAgb3V0bGluZTogc29saWQ7XFxuICAgIG91dGxpbmUtd2lkdGg6IDFweDtcXG4gICAgd2lkdGg6IDIwcHg7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgbWFyZ2luOiAycHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGdhaW5zYm9ybztcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLHVCQUF1QjtJQUN2QixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQiw2QkFBNkI7SUFDN0IsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztJQUNYLDJCQUEyQjtBQUMvQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIjaGVhZGVyLWRpdiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcbiAgICBjb2xvcjogcmVkO1xcbn1cXG5cXG4jc2V0dXAtYXJlYSB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDE1MHB4O1xcbiAgICBib3JkZXI6IGRhc2hlZDtcXG59XFxuXFxuI2NvbnRlbnQge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcXG4gICAgYm9yZGVyOiBzb2xpZDtcXG59XFxuXFxuLnJvd3Mge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbn1cXG5cXG4uc3F1YXJlcyB7XFxuICAgIG91dGxpbmU6IHNvbGlkO1xcbiAgICBvdXRsaW5lLXdpZHRoOiAxcHg7XFxuICAgIHdpZHRoOiAyMHB4O1xcbiAgICBoZWlnaHQ6IDIwcHg7XFxuICAgIG1hcmdpbjogMnB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBnYWluc2Jvcm87XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhzdHlsZSwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICByZXR1cm4gc3R5bGU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZSkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZShcIm1lZGlhXCIpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGUpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlLCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZSkge1xuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG5jb25zdCBQbGF5ZXIgPSAodGl0bGUsIG15Qm9hcmQsIG9wcG9uZW50Qm9hcmQsIGh1bWFuKSA9PiB7XG4gICAgbGV0IGNwdUluZm8gPSB7XG4gICAgICAgIHNoaXBGb3VuZDogZmFsc2UsXG4gICAgICAgIHNoaXBGb3VuZFI6IDAsXG4gICAgICAgIHNoaXBGb3VuZEM6IDAsXG4gICAgICAgIG1vdmU6IDAsXG4gICAgICAgIGxhc3RIaXQ6IGZhbHNlLFxuICAgICAgICBnb1JpZ2h0OiB0cnVlLFxuICAgICAgICBnb0xlZnQ6IHRydWUsXG4gICAgICAgIGdvVXA6IHRydWUsXG4gICAgICAgIGdvRG93bjogdHJ1ZSxcbiAgICAgICAgY29vcmRzOiB7XG4gICAgICAgICAgICByOiAwLFxuICAgICAgICAgICAgYzogMCxcbiAgICAgICAgfSxcbiAgICB9XG4gICAgZnVuY3Rpb24gcmFuZG9tU3BvdCAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTAgLSAwKSArIDApXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3B1Rm91bmRBdHRhY2sgKCkge1xuICAgICAgICBpZiAob3Bwb25lbnRCb2FyZC5zcXVhcmVzW2NwdUluZm8uc2hpcEZvdW5kUl1bY3B1SW5mby5zaGlwRm91bmRDXS5zaGlwLnN1bmspIHtcbiAgICAgICAgICAgIGNwdUluZm8uc2hpcEZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBjcHVJbmZvLnNoaXBGb3VuZFIgPSAwO1xuICAgICAgICAgICAgY3B1SW5mby5zaGlwRm91bmRDID0gMDtcbiAgICAgICAgICAgIGNwdUluZm8ubW92ZSA9IDA7XG4gICAgICAgICAgICBjcHVJbmZvLmxhc3RIaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNwdUluZm8uZ29SaWdodCA9IHRydWU7XG4gICAgICAgICAgICBjcHVJbmZvLmdvTGVmdCA9IHRydWU7XG4gICAgICAgICAgICBjcHVJbmZvLmdvVXAgPSB0cnVlO1xuICAgICAgICAgICAgY3B1SW5mby5nb0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgY3B1UmFuZG9tQXR0YWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWNwdUluZm8ubGFzdEhpdCkge1xuICAgICAgICAgICAgICAgIGNwdUluZm8ubW92ZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3B1SW5mby5nb1JpZ2h0ICYmIGNwdUluZm8uc2hpcEZvdW5kQyArIGNwdUluZm8ubW92ZSA+IDkpIHtcbiAgICAgICAgICAgICAgICBjcHVJbmZvLmdvUmlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoY3B1SW5mby5nb0xlZnQgJiYgY3B1SW5mby5zaGlwRm91bmRDICsgY3B1SW5mby5tb3ZlIDwgMCkge1xuICAgICAgICAgICAgICAgIGNwdUluZm8uZ29MZWZ0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGNwdUluZm8uZ29VcCAmJiBjcHVJbmZvLnNoaXBGb3VuZEMgKyBjcHVJbmZvLm1vdmUgPCAwKSB7XG4gICAgICAgICAgICAgICAgY3B1SW5mby5nb1VwID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGNwdUluZm8uZ29Eb3duICYmIGNwdUluZm8uc2hpcEZvdW5kQyArIGNwdUluZm8ubW92ZSA+IDkpIHtcbiAgICAgICAgICAgICAgICBjcHVJbmZvLmdvRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmIChjcHVJbmZvLmdvUmlnaHQpIHtcbiAgICAgICAgICAgICAgICBjcHVJbmZvLm1vdmUrKztcbiAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnRCb2FyZC5zcXVhcmVzW2NwdUluZm8uc2hpcEZvdW5kUl1bY3B1SW5mby5zaGlwRm91bmRDICsgY3B1SW5mby5tb3ZlXS5zaGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNwdUluZm8uZ29VcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjcHVJbmZvLmdvRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjcHVJbmZvLmxhc3RIaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3B1SW5mby5nb1JpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNwdUluZm8ubGFzdEhpdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjcHVJbmZvLmNvb3Jkcy5yID0gY3B1SW5mby5zaGlwRm91bmRSO1xuICAgICAgICAgICAgICAgIGNwdUluZm8uY29vcmRzLmMgPSBjcHVJbmZvLnNoaXBGb3VuZEMgKyBjcHVJbmZvLm1vdmVcbiAgICAgICAgICAgICAgICByZXR1cm4gY3B1SW5mby5jb29yZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjcHVJbmZvLmdvTGVmdCkge1xuICAgICAgICAgICAgICAgIGNwdUluZm8ubW92ZS0tO1xuICAgICAgICAgICAgICAgIGlmIChvcHBvbmVudEJvYXJkLnNxdWFyZXNbY3B1SW5mby5zaGlwRm91bmRSXVtjcHVJbmZvLnNoaXBGb3VuZEMgKyBjcHVJbmZvLm1vdmVdLnNoaXApIHtcbiAgICAgICAgICAgICAgICAgICAgY3B1SW5mby5nb1VwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNwdUluZm8uZ29Eb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNwdUluZm8ubGFzdEhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjcHVJbmZvLmdvTGVmdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjcHVJbmZvLmxhc3RIaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3B1SW5mby5jb29yZHMuciA9IGNwdUluZm8uc2hpcEZvdW5kUjtcbiAgICAgICAgICAgICAgICBjcHVJbmZvLmNvb3Jkcy5jID0gY3B1SW5mby5zaGlwRm91bmRDICsgY3B1SW5mby5tb3ZlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNwdUluZm8uY29vcmRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3B1SW5mby5nb1VwKSB7XG4gICAgICAgICAgICAgICAgY3B1SW5mby5tb3ZlLS07XG4gICAgICAgICAgICAgICAgaWYgKG9wcG9uZW50Qm9hcmQuc3F1YXJlc1tjcHVJbmZvLnNoaXBGb3VuZFIgKyBjcHVJbmZvLm1vdmVdW2NwdUluZm8uc2hpcEZvdW5kQ10uc2hpcCkge1xuICAgICAgICAgICAgICAgICAgICBjcHVJbmZvLmdvTGVmdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjcHVJbmZvLmdvUmlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY3B1SW5mby5sYXN0SGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNwdUluZm8uZ29VcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjcHVJbmZvLmxhc3RIaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3B1SW5mby5jb29yZHMuciA9IGNwdUluZm8uc2hpcEZvdW5kUiArIGNwdUluZm8ubW92ZTtcbiAgICAgICAgICAgICAgICBjcHVJbmZvLmNvb3Jkcy5jID0gY3B1SW5mby5zaGlwRm91bmRDO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb29yZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjcHVJbmZvLmdvRG93bikge1xuICAgICAgICAgICAgICAgIGNwdUluZm8ubW92ZSsrO1xuICAgICAgICAgICAgICAgIGlmIChvcHBvbmVudEJvYXJkLnNxdWFyZXNbY3B1SW5mby5zaGlwRm91bmRSICsgY3B1SW5mby5tb3ZlXVtjcHVJbmZvLnNoaXBGb3VuZENdLnNoaXApIHtcbiAgICAgICAgICAgICAgICAgICAgY3B1SW5mby5nb0xlZnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY3B1SW5mby5sYXN0SGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNwdUluZm8uZ29Eb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNwdUluZm8ubGFzdEhpdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjcHVJbmZvLmNvb3Jkcy5yID0gc2hpcEZvdW5kUiArIG1vdmU7XG4gICAgICAgICAgICAgICAgY3B1SW5mby5jb29yZHMuYyA9IHNoaXBGb3VuZEM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNwdUluZm8uY29vcmRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3B1UmFuZG9tQXR0YWNrICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2luIHJhbmRvbScpO1xuICAgICAgICBsZXQgcm93ID0gcmFuZG9tU3BvdCgpO1xuICAgICAgICBsZXQgY29sID0gcmFuZG9tU3BvdCgpO1xuICAgICAgICB3aGlsZSAob3Bwb25lbnRCb2FyZC5zcXVhcmVzW3Jvd11bY29sXS5oaXQpIHtcbiAgICAgICAgICAgIHJvdyA9IHJhbmRvbVNwb3QoKTtcbiAgICAgICAgICAgIGNvbCA9IHJhbmRvbVNwb3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZihvcHBvbmVudEJvYXJkLnNxdWFyZXNbcm93XVtjb2xdLnNoaXBIZXJlKSB7XG4gICAgICAgICAgICBjcHVJbmZvLnNoaXBGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBjcHVJbmZvLnNoaXBGb3VuZFIgPSByb3c7XG4gICAgICAgICAgICBjcHVJbmZvLnNoaXBGb3VuZEMgPSBjb2w7XG4gICAgICAgIH1cbiAgICAgICAgY3B1SW5mby5jb29yZHMuciA9IHJvdztcbiAgICAgICAgY3B1SW5mby5jb29yZHMuYyA9IGNvbDtcbiAgICAgICAgcmV0dXJuIGNwdUluZm8uY29vcmRzO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBteUJvYXJkLFxuICAgICAgICBodW1hbixcbiAgICAgICAgb3Bwb25lbnRCb2FyZCxcbiAgICAgICAgY3B1UmFuZG9tQXR0YWNrLFxuICAgICAgICBjcHVGb3VuZEF0dGFjayxcbiAgICAgICAgY3B1SW5mbyxcbiAgICB9XG59XG5cbmV4cG9ydCB7UGxheWVyfTsiLCJpbXBvcnQge1NoaXB9IGZyb20gJy4vc2hpcHMnO1xuXG5jb25zdCBHYW1lYm9hcmQgPSAodGl0bGUsIGxlbmd0aCkgPT4ge1xuICAgIGxldCBzcXVhcmVzID0gW107XG4gICAgbGV0IHNoaXBzID0gW107XG5cbiAgICBmb3IgKGxldCByID0gMDsgciA8IGxlbmd0aDsgcisrKSB7XG4gICAgICAgIHNxdWFyZXNbcl0gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBsZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgc3F1YXJlc1tyXVtjXSA9IHtcbiAgICAgICAgICAgICAgICByb3c6IHIsXG4gICAgICAgICAgICAgICAgY29sOiBjLFxuICAgICAgICAgICAgICAgIGhpdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hpcDogbnVsbCxcbiAgICAgICAgICAgICAgICBzaGlwSGVyZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hpcFBhcnQ6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBsYWNlU2hpcChzaGlwLCBzdGFydGluZ1Jvdywgc3RhcnRpbmdDb2wsIGhvcml6b250YWwpIHtcbiAgICAgICAgc2hpcHMucHVzaChzaGlwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIHNxdWFyZXNbc3RhcnRpbmdSb3ddW3N0YXJ0aW5nQ29sICsgaV0uc2hpcCA9IHNoaXA7XG4gICAgICAgICAgICAgICAgc3F1YXJlc1tzdGFydGluZ1Jvd11bc3RhcnRpbmdDb2wgKyBpXS5zaGlwSGVyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3F1YXJlc1tzdGFydGluZ1Jvd11bc3RhcnRpbmdDb2wgKyBpXS5zaGlwUGFydCA9IGk7XG4gICAgICAgICAgICAgICAgc2hpcC5wb3NpdGlvbltpXS5ib2FyZFIgPSBzdGFydGluZ1JvdztcbiAgICAgICAgICAgICAgICBzaGlwLnBvc2l0aW9uW2ldLmJvYXJkQyA9IHN0YXJ0aW5nQ29sICsgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZXNbc3RhcnRpbmdSb3cgKyBpXVtzdGFydGluZ0NvbF0uc2hpcCA9IHNoaXA7XG4gICAgICAgICAgICAgICAgc3F1YXJlc1tzdGFydGluZ1JvdyArIGldW3N0YXJ0aW5nQ29sXS5zaGlwSGVyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3F1YXJlc1tzdGFydGluZ1JvdyArIGldW3N0YXJ0aW5nQ29sXS5zaGlwUGFydCA9IGk7XG4gICAgICAgICAgICAgICAgc2hpcC5wb3NpdGlvbltpXS5ib2FyZFIgPSBzdGFydGluZ1JvdyArIGk7XG4gICAgICAgICAgICAgICAgc2hpcC5wb3NpdGlvbltpXS5ib2FyZEMgPSBzdGFydGluZ0NvbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVjZWl2ZUF0dGFjayAocm93LCBjb2wpIHtcbiAgICAgICAgc3F1YXJlc1tyb3ddW2NvbF0uaGl0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHNxdWFyZXNbcm93XVtjb2xdLnNoaXBIZXJlKSB7XG4gICAgICAgICAgICBzcXVhcmVzW3Jvd11bY29sXS5zaGlwLmhpdChzcXVhcmVzW3Jvd11bY29sXS5zaGlwUGFydCk7XG4gICAgICAgICAgICByZXR1cm4gJ0hpdCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ01pc3MnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWxsU2hpcHNTdW5rICgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFzaGlwc1tpXS5pc1N1bmsoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgc3F1YXJlcyxcbiAgICAgICAgcGxhY2VTaGlwLFxuICAgICAgICByZWNlaXZlQXR0YWNrLFxuICAgICAgICBhbGxTaGlwc1N1bmssXG4gICAgfVxufVxuXG5leHBvcnQge0dhbWVib2FyZH07IiwiaW1wb3J0IHtwbGF5ZXIxVHVybiwgcGxheWVyMSwgcGxheWVyMiwgYXR0YWNrLCBnYW1lfSBmcm9tICcuL2dhbWVsb29wJztcbmltcG9ydCB7IFNoaXAgfSBmcm9tICcuL3NoaXBzJztcblxuY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5sZXQgYWN0aXZlU2hpcCA9IDQ7XG5cbmZ1bmN0aW9uIGNyZWF0ZUxheW91dCAoKSB7XG4gICAgZGlzcGxheUhlYWRlcigpO1xuICAgIGNyZWF0ZVNldHVwQXJlYSgpO1xuICAgIGNyZWF0ZUhUTUwoKTtcbiAgICBjcmVhdGVHYW1lU2V0dXAoKTtcbiAgICBzaGlwUHJvbXB0KCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlIZWFkZXIgKCkge1xuICAgIGNvbnN0IGhlYWRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhlYWRlckRpdi5pZCA9ICdoZWFkZXItZGl2JztcbiAgICBoZWFkZXJEaXYudGV4dENvbnRlbnQgPSAnQmF0dGxlc2hpcCc7XG5cbiAgICBib2R5LmFwcGVuZENoaWxkKGhlYWRlckRpdik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQXJlYSAoKSB7XG4gICAgY29uc3Qgc2V0dXBBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc2V0dXBBcmVhLmlkID0gJ3NldHVwLWFyZWEnO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQoc2V0dXBBcmVhKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSFRNTCAoKSB7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRlbnQuaWQgPSAnY29udGVudCc7XG5cbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgY29uc3QgZGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpc3BsYXkuaWQgPSAnZGlzcGxheSc7XG5cbiAgICBib2R5LmFwcGVuZENoaWxkKGRpc3BsYXkpO1xuICAgIFxuICAgIGNyZWF0ZUVtcHR5Qm9hcmRzKCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVtcHR5Qm9hcmRzICgpIHtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRlbnQnKTtcbiAgICB3aGlsZSAoY29udGVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQ2hpbGQoY29udGVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBjb25zdCBib2FyZDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBib2FyZDEuaWQgPSAnYm9hcmQxJztcblxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoYm9hcmQxKTtcblxuICAgIGZvciAobGV0IHIgPSAwOyByIDwgMTA7IHIrKykge1xuICAgICAgICBsZXQgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncm93cycpO1xuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IDEwOyBjKyspIHtcbiAgICAgICAgICAgIGxldCBjb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3NxdWFyZXMnKTtcbiAgICAgICAgICAgIGNvbC5pZCA9ICgnYm9hcmQxLScgKyByICsgYyk7XG4gICAgICAgICAgICBjb2wuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaG92ZXJQbGFjZShyLCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZ2FtZSkge1xuICAgICAgICAgICAgICAgICAgICBob3ZlclJlbW92ZShyLCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIXBsYXllcjFUdXJuICYmIGdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBdHRhY2sociwgYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCFnYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrUGxhY2UociwgYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sKTtcbiAgICAgICAgfVxuICAgICAgICBib2FyZDEuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9XG5cbiAgICBjb25zdCBib2FyZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBib2FyZDEuaWQgPSAnYm9hcmQyJztcblxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoYm9hcmQyKTtcblxuICAgIGZvciAobGV0IHIgPSAwOyByIDwgMTA7IHIrKykge1xuICAgICAgICBsZXQgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncm93cycpO1xuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IDEwOyBjKyspIHtcbiAgICAgICAgICAgIGxldCBjb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3NxdWFyZXMnKTtcbiAgICAgICAgICAgIGNvbC5pZCA9ICgnYm9hcmQyLScgKyByICsgYyk7XG4gICAgICAgICAgICBjb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllcjFUdXJuICYmIGdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBdHRhY2sociwgYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sKTtcbiAgICAgICAgfVxuICAgICAgICBib2FyZDIuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdhbWVTZXR1cCAoKSB7XG4gICAgY29uc3QgYXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR1cC1hcmVhJyk7XG4gICAgY29uc3Qgc3RhcnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzdGFydERpdi50ZXh0Q29udGVudCA9ICdzdGFydCBnYW1lJztcbiAgICBzdGFydERpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZ2FtZSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKGdhbWUpO1xuICAgIH0pO1xuICAgIGFyZWEuYXBwZW5kQ2hpbGQoc3RhcnREaXYpO1xuXG4gICAgY29uc3Qgc2hpcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNoaXBEaXYuaWQgPSAnc2hpcC1kaXYnO1xuICAgIGFyZWEuYXBwZW5kQ2hpbGQoc2hpcERpdik7XG59XG5cbmZ1bmN0aW9uIHNoaXBQcm9tcHQgKCkge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGlwLWRpdicpO1xuICAgIGRpdi50ZXh0Q29udGVudCA9ICdQbGFjZSBzaGlwIG9mIGxlbmd0aCA0Lic7XG59XG5cbmZ1bmN0aW9uIGhvdmVyUGxhY2UgKHIsIGMpIHtcbiAgICBsZXQgY2FuUGxhY2U7XG4gICAgaWYgKGMgKyBhY3RpdmVTaGlwIDwgMTEpIHtcbiAgICAgICAgY2FuUGxhY2UgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZVNoaXA7IGkrKykge1xuICAgICAgICAgICAgaWYgKHBsYXllcjEubXlCb2FyZC5zcXVhcmVzW3JdW2MgKyBpXS5zaGlwKSB7XG4gICAgICAgICAgICAgICAgY2FuUGxhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuUGxhY2UpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlU2hpcDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNxdWFyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCgnYm9hcmQxLScgKyByICsgKGMgKyBpKSkpO1xuICAgICAgICAgICAgICAgIHNxdWFyZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnY3lhbic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXBsYXllcjEubXlCb2FyZC5zcXVhcmVzW3JdW2NdLnNoaXApIHtcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKCdib2FyZDEtJyArIHIgKyBjKSk7XG4gICAgICAgICAgICAgICAgc3F1YXJlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdwaW5rJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFwbGF5ZXIxLm15Qm9hcmQuc3F1YXJlc1tyXVtjXS5zaGlwKSB7XG4gICAgICAgICAgICBsZXQgc3F1YXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKCdib2FyZDEtJyArIHIgKyBjKSk7XG4gICAgICAgICAgICBzcXVhcmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3BpbmsnO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBob3ZlclJlbW92ZSAociwgYykge1xuICAgIGxldCBjYW5QbGFjZSA9IHRydWU7XG4gICAgaWYgKGMgKyBhY3RpdmVTaGlwIDwgMTEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVTaGlwOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIxLm15Qm9hcmQuc3F1YXJlc1tyXVtjICsgaV0uc2hpcCkge1xuICAgICAgICAgICAgICAgIGNhblBsYWNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhblBsYWNlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZVNoaXA7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzcXVhcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgoJ2JvYXJkMS0nICsgciArIChjICsgaSkpKTtcbiAgICAgICAgICAgICAgICBzcXVhcmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dhaW5zYm9ybyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXBsYXllcjEubXlCb2FyZC5zcXVhcmVzW3JdW2NdLnNoaXApIHtcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKCdib2FyZDEtJyArIHIgKyBjKSk7XG4gICAgICAgICAgICAgICAgc3F1YXJlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdnYWluc2Jvcm8nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIXBsYXllcjEubXlCb2FyZC5zcXVhcmVzW3JdW2NdLnNoaXApIHtcbiAgICAgICAgICAgIGxldCBzcXVhcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgoJ2JvYXJkMS0nICsgciArIGMpKTtcbiAgICAgICAgICAgIHNxdWFyZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ2FpbnNib3JvJztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2xpY2tQbGFjZSAociwgYykge1xuICAgIGxldCBjYW5QbGFjZSA9IHRydWU7XG4gICAgaWYgKGMgKyBhY3RpdmVTaGlwIDwgMTEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVTaGlwOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIxLm15Qm9hcmQuc3F1YXJlc1tyXVtjICsgaV0uc2hpcCkge1xuICAgICAgICAgICAgICAgIGNhblBsYWNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhblBsYWNlKSB7XG4gICAgICAgICAgICBwbGF5ZXIxLm15Qm9hcmQucGxhY2VTaGlwKFNoaXAoJ2JvYXQxLTEnLCBhY3RpdmVTaGlwKSwgciwgYywgdHJ1ZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZVNoaXA7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzcXVhcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgoJ2JvYXJkMS0nICsgciArIChjICsgaSkpKTtcbiAgICAgICAgICAgICAgICBzcXVhcmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2JsdWUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjbGlja0F0dGFjayAociwgYykge1xuICAgIGlmIChwbGF5ZXIxVHVybikge1xuICAgICAgICBhdHRhY2socGxheWVyMSwgciwgYylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGF0dGFjayhwbGF5ZXIyLCByLCBjKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGl0VXBkYXRlIChyLCBjKSB7XG4gICAgbGV0IHNxdWFyZTtcbiAgICBpZiAoIXBsYXllcjFUdXJuKSB7XG4gICAgICAgIHNxdWFyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib2FyZDEtJyArIHIgKyBjKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNxdWFyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib2FyZDItJyArIHIgKyBjKTtcbiAgICB9XG4gICAgc3F1YXJlLnRleHRDb250ZW50ID0gJ3gnO1xufVxuXG5mdW5jdGlvbiBtaXNzVXBkYXRlIChyLGMpIHtcbiAgICBsZXQgc3F1YXJlO1xuICAgIGlmICghcGxheWVyMVR1cm4pIHtcbiAgICAgICAgc3F1YXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvYXJkMS0nICsgciArIGMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3F1YXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvYXJkMi0nICsgciArIGMpO1xuICAgIH1cbiAgICBzcXVhcmUudGV4dENvbnRlbnQgPSAnbyc7XG59XG5cbmZ1bmN0aW9uIHNoaXBEZXN0cm95ZWQgKHNoaXApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHIgPSBzaGlwLnBvc2l0aW9uW2ldLmJvYXJkUjtcbiAgICAgICAgbGV0IGMgPSBzaGlwLnBvc2l0aW9uW2ldLmJvYXJkQztcbiAgICAgICAgbGV0IHNxdWFyZTtcbiAgICAgICAgaWYgKCFwbGF5ZXIxVHVybikge1xuICAgICAgICAgICAgc3F1YXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvYXJkMS0nICsgciArIGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3F1YXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvYXJkMi0nICsgciArIGMpO1xuICAgICAgICB9XG4gICAgICAgIHNxdWFyZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdhbWVPdmVyICgpIHtcbiAgICBjb25zdCBkaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXknKTtcbiAgICBpZiAocGxheWVyMVR1cm4pIHtcbiAgICAgICAgZGlzcGxheS50ZXh0Q29udGVudCA9ICdQbGF5ZXIgMSBoYXMgd29uISc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkaXNwbGF5LnRleHRDb250ZW50ID0gJ1BsYXllciAyIGhhcyB3b24hJztcbiAgICB9XG59XG5cblxuZXhwb3J0IHtjcmVhdGVMYXlvdXQsIGhpdFVwZGF0ZSwgbWlzc1VwZGF0ZSwgc2hpcERlc3Ryb3llZCwgZ2FtZU92ZXJ9OyIsImNvbnN0IFNoaXAgPSAodGl0bGUsIGxlbmd0aCkgPT4ge1xuICAgIGxldCBoaXRzID0gMDtcbiAgICBsZXQgcG9zaXRpb24gPSBbXTtcbiAgICBsZXQgc3VuayA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBwb3NpdGlvbltpXSA9IHtcbiAgICAgICAgICAgIGhpdDogZmFsc2UsXG4gICAgICAgICAgICBib2FyZFI6IG51bGwsXG4gICAgICAgICAgICBib2FyZEM6IG51bGwsXG4gICAgICAgICAgICBwb3M6IGksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGl0IChwb3MpIHtcbiAgICAgICAgcG9zaXRpb25bcG9zXS5oaXQgPSB0cnVlO1xuICAgICAgICBoaXRzKys7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzU3VuayAoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbltpXS5oaXQgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VuayA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBsZW5ndGgsXG4gICAgICAgIGhpdCxcbiAgICAgICAgaGl0cyxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGlzU3VuayxcbiAgICAgICAgc3VuayxcbiAgICB9XG59XG5cblxuXG5leHBvcnQge1NoaXB9OyIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vcGxheWVyJztcbmltcG9ydCB7IFNoaXAgfSBmcm9tICcuL3NoaXBzJztcbmltcG9ydCB7IEdhbWVib2FyZCB9IGZyb20gJy4vZ2FtZWJvYXJkJztcbmltcG9ydCB7IGhpdFVwZGF0ZSwgbWlzc1VwZGF0ZSwgc2hpcERlc3Ryb3llZCwgZ2FtZU92ZXIgfSBmcm9tICcuL0RPTURpc3BsYXknO1xuXG5sZXQgcGxheWVyMVR1cm4gPSB0cnVlO1xubGV0IGJvYXJkMSA9IEdhbWVib2FyZCgnYm9hcmQxJywgMTApO1xubGV0IGJvYXJkMiA9IEdhbWVib2FyZCgnYm9hcmQyJywgMTApO1xubGV0IHBsYXllcjEgPSBQbGF5ZXIoJ01lJywgYm9hcmQxLCBib2FyZDIsIHRydWUpO1xubGV0IHBsYXllcjIgPSBQbGF5ZXIoJ2NwdScsIGJvYXJkMiwgYm9hcmQxLCBmYWxzZSk7XG5sZXQgZ2FtZSA9IGZhbHNlO1xuXG5mdW5jdGlvbiBjcmVhdGVHYW1lUmFuZG9tICgpIHtcblxuICAgIFxuXG4gICAgcGxheWVyMS5teUJvYXJkLnBsYWNlU2hpcChTaGlwKCdib2F0MS0xJywgMiksIDAsIDAsIHRydWUpO1xuICAgIHBsYXllcjEubXlCb2FyZC5wbGFjZVNoaXAoU2hpcCgnYm9hdDItMScsIDIpLCAxLCAxLCB0cnVlKTtcbiAgICBwbGF5ZXIxLm15Qm9hcmQucGxhY2VTaGlwKFNoaXAoJ2JvYXQzLTEnLCAyKSwgMiwgMiwgdHJ1ZSk7XG5cbiAgICBwbGF5ZXIyLm15Qm9hcmQucGxhY2VTaGlwKFNoaXAoJ2JvYXQxLTInLCAyKSwgMCwgMCwgdHJ1ZSk7XG4gICAgcGxheWVyMi5teUJvYXJkLnBsYWNlU2hpcChTaGlwKCdib2F0Mi0yJywgMiksIDEsIDEsIHRydWUpO1xuICAgIHBsYXllcjIubXlCb2FyZC5wbGFjZVNoaXAoU2hpcCgnYm9hdDMtMicsIDIpLCAyLCAyLCB0cnVlKTtcbiAgICBcbiAgICBnYW1lID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2FtZVNldHVwICgpIHtcbiAgICBcbn1cblxuZnVuY3Rpb24gYXR0YWNrIChwbGF5ZXIsIHIsIGMpIHtcbiAgICBpZiAoIXBsYXllci5vcHBvbmVudEJvYXJkLnNxdWFyZXNbcl1bY10uaGl0ICYmIGdhbWUgPT0gdHJ1ZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcGxheWVyLm9wcG9uZW50Qm9hcmQucmVjZWl2ZUF0dGFjayhyLCBjKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ0hpdCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHIsIGMsICdoaXQnKVxuICAgICAgICAgICAgaGl0VXBkYXRlKHIsIGMpO1xuICAgICAgICAgICAgaWYgKHBsYXllci5vcHBvbmVudEJvYXJkLnNxdWFyZXNbcl1bY10uc2hpcC5pc1N1bmsoKSkge1xuICAgICAgICAgICAgICAgIHBsYXllci5vcHBvbmVudEJvYXJkLnNxdWFyZXNbcl1bY10uc2hpcC5zdW5rID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaGlwRGVzdHJveWVkKHBsYXllci5vcHBvbmVudEJvYXJkLnNxdWFyZXNbcl1bY10uc2hpcCk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5vcHBvbmVudEJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZU92ZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyLCBjLCAnbWlzcycpXG4gICAgICAgICAgICBtaXNzVXBkYXRlKHIsIGMpO1xuICAgICAgICAgICAgcGxheWVyMVR1cm4gPSAhcGxheWVyMVR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwbGF5ZXIxVHVybikge1xuICAgICAgICBsZXQgY29vcmRzO1xuICAgICAgICBpZiAocGxheWVyMi5jcHVJbmZvLnNoaXBGb3VuZCkge1xuICAgICAgICAgICAgY29vcmRzID0gcGxheWVyMi5jcHVGb3VuZEF0dGFjaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29vcmRzID0gcGxheWVyMi5jcHVSYW5kb21BdHRhY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29vcmRzKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdmYWlsc2FmZScpO1xuICAgICAgICAgICAgY29vcmRzID0gcGxheWVyMi5jcHVSYW5kb21BdHRhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHthdHRhY2socGxheWVyMiwgY29vcmRzLnIsIGNvb3Jkcy5jKTt9LCA4MDApO1xuICAgIH1cbn1cblxuZXhwb3J0IHtjcmVhdGVHYW1lUmFuZG9tLCBwbGF5ZXIxVHVybiwgcGxheWVyMSwgcGxheWVyMiwgYXR0YWNrLCBnYW1lfTsiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNvbmNhdCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiX2kiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl9pdGVtIiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwiY2FsbCIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVSZXN0IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiYXBpIiwiZG9tQVBJIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pbmRleCIsInNwbGljZSIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInJlbW92ZUF0dHJpYnV0ZSIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsImhhc093blByb3BlcnR5IiwiUGxheWVyIiwidGl0bGUiLCJteUJvYXJkIiwib3Bwb25lbnRCb2FyZCIsImh1bWFuIiwiY3B1SW5mbyIsInNoaXBGb3VuZCIsInNoaXBGb3VuZFIiLCJzaGlwRm91bmRDIiwibW92ZSIsImxhc3RIaXQiLCJnb1JpZ2h0IiwiZ29MZWZ0IiwiZ29VcCIsImdvRG93biIsImNvb3JkcyIsInIiLCJjIiwicmFuZG9tU3BvdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNwdVJhbmRvbUF0dGFjayIsImNvbnNvbGUiLCJsb2ciLCJyb3ciLCJjb2wiLCJzcXVhcmVzIiwiaGl0Iiwic2hpcEhlcmUiLCJjcHVGb3VuZEF0dGFjayIsInNoaXAiLCJzdW5rIiwiR2FtZWJvYXJkIiwic2hpcHMiLCJzaGlwUGFydCIsInBsYWNlU2hpcCIsInN0YXJ0aW5nUm93Iiwic3RhcnRpbmdDb2wiLCJob3Jpem9udGFsIiwicG9zaXRpb24iLCJib2FyZFIiLCJib2FyZEMiLCJyZWNlaXZlQXR0YWNrIiwiYWxsU2hpcHNTdW5rIiwiaXNTdW5rIiwiYm9keSIsImhvdmVyUGxhY2UiLCJjYW5QbGFjZSIsInBsYXllcjEiLCJnZXRFbGVtZW50QnlJZCIsImJhY2tncm91bmRDb2xvciIsImhvdmVyUmVtb3ZlIiwiY2xpY2tQbGFjZSIsImhpdHMiLCJwb3MiLCJjbGlja0F0dGFjayIsImF0dGFjayIsInBsYXllcjFUdXJuIiwicGxheWVyMiIsImJvYXJkMSIsImJvYXJkMiIsImdhbWUiLCJwbGF5ZXIiLCJzcXVhcmUiLCJ0ZXh0Q29udGVudCIsImhpdFVwZGF0ZSIsInNoaXBEZXN0cm95ZWQiLCJtaXNzVXBkYXRlIiwic2V0VGltZW91dCIsImhlYWRlckRpdiIsImRpc3BsYXlIZWFkZXIiLCJzZXR1cEFyZWEiLCJjcmVhdGVTZXR1cEFyZWEiLCJkaXNwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY3JlYXRlRW1wdHlCb2FyZHMiLCJjcmVhdGVIVE1MIiwiYXJlYSIsInN0YXJ0RGl2Iiwic2hpcERpdiIsImNyZWF0ZUdhbWVTZXR1cCJdLCJzb3VyY2VSb290IjoiIn0=